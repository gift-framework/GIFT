#!/bin/bash

# GIFT Framework v2.2 Post-Build Script for Binder
echo "GIFT Framework v2.2 Binder Setup"

# Enable Jupyter widgets
jupyter nbextension enable --py --sys-prefix ipywidgets

# Install additional tools if needed
pip install --no-deps gmpy2 || echo "gmpy2 installation failed, continuing..."

# Set up environment
export GIFT_VERSION=v2.2.0
export PYTHONPATH="${PYTHONPATH}:."

# Create symbolic links for easy access
ln -sf publications/gift_2_2_main.md README_main.md || echo "Could not create symlink"
ln -sf publications/gift_v2_notebook.ipynb NOTEBOOK.ipynb || echo "Could not create symlink"

echo "GIFT Framework v2.2.0 Binder environment ready!"
echo "Main paper: publications/gift_2_2_main.md"
echo "Supplements: publications/supplements/"
echo "Interactive notebook: publications/gift_v2_notebook.ipynb"
